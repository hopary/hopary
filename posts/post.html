<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>文章详情</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>

<body>
    <!-- 导航栏占位 -->
    <div id="navbar"></div>

    <main class="container" id="post-content">
        <!-- 文章内容由 JavaScript 动态生成 -->
    </main>

     <!-- 页脚占位 -->
    <div id="footer"></div>

    <!-- 加载公共模块 -->
    <script>
        // 加载导航栏（注意路径中的 ../）
        fetch('../components/navbar.html')
            .then(response => response.text())
            .then(html => document.getElementById('navbar').innerHTML = html);

        // 加载页脚
        fetch('../components/footer.html')
            .then(response => response.text())
            .then(html => document.getElementById('footer').innerHTML = html);
        </script>   

<script>
    // 获取文章 ID
    const postId = new URLSearchParams(window.location.search).get('id');

    // 加载文章数据
    fetch('../data/posts.json')
        .then(response => response.json())
        .then(posts => {
            const post = posts.find(p => p.id === postId);
            if (post) {
                document.title = post.title;
                const content = `
                    <h2>${post.title}</h2>
                    <small>发布日期：${post.date}</small>
                    <p>${post.content.replace(/\n/g, '<br>')}</p>
                `;
                document.getElementById('post-content').innerHTML = content;
            } else {
                document.getElementById('post-content').innerHTML = '<p>文章未找到。</p>';
            }
        });
</script>
    


</body> 

</html>