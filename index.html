<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alog</title>
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Insert a navigation bar at the beginning of the <body> tag.-->
    <div id="navbar"></div>


    <!-- 文章列表 -->
    <main class="container">
        <h2>最新文章</h2>
        <div class="post-list"> </div>
    </main>

    <!-- Insert a footer at the end of the <body> tag. -->
    <div id="footer"></div>

    <!-- Add JavaScript at the bottom of the page. -->
    <script>
        // Load the navigation bar.
        fetch('/components/navbar.html')
            .then(response => response.text())
            .then(html => document.getElementById('navbar').innerHTML = html);
        // Load the footer.
        fetch('/components/footer.html')
            .then(response => response.text())
            .then(html => document.getElementById('footer').innerHTML = html);
    </script>

    <!-- 动态获取文章列表 -->
    <script>
        fetch('data/posts.json')
            .then(response => response.json())
            .then(posts => {
                const list = document.querySelector('.post-list');
                list.innerHTML = posts.map(post => `
                    <li>
                        <a href="posts/post.html?id=${post.id}">${post.title}</a>
                        <span class="date">${post.date}</span>
                    </li>
                `).join('');
            });
    </script>




</body>

</html>